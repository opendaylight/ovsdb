DIRECTORY ORGANIZATION
======================

- library : Contains Schema-independent library that is a reference implementation for RFC 7047.
            This module doesn't depend on any of the Opendaylight components.
            This library module can also be used independently in a non-OSGi environment.

- schemas :
  |-- openvswitch : Schema wrapper that represents http://openvswitch.org/ovs-vswitchd.conf.db.5.pdf
  |-- hardwarevtep: Schema wrapper that represents http://openvswitch.org/docs/vtep.5.pdf

- plugin : Contains Opendaylight Southbound Plugin APIs and provides an simpler API interface on top of library layer.
           Ideally, this module should also be schema independent. But due to legacy reasons this layer contains some
           deprecated functionalities that assume openvswitch schema.

- northbound : Provides AD-SAL style Northbound REST APIs.
               Supports the legacy v2 APIs to provide backward compatibility for Hydrogen Release
               Also supports the newer v3 APIs to provide schema-independent access to the OVSDB protocol.

- openstack
  |-- net-virt : Handles the Openstack Neutron ML2 and Network Service calls and performs all the logic required
                 for Network Virtualization.
  |-- net-virt-providers : Mostly contains data-path programming functionalities via OpenFlow or potentially
                           other protocols.

- commons
  |-- parent : Contains Parent pom.xml for all the ovsdb modules.
  |-- integrationtest : Contains the parent pom.xml for all the integrationtest needs.

- distribution/opendaylight-karaf/ : This directory contains the generated distribution to run ODL+OVSDB from the project

- features : This folder contains all the Karaf related files.

- integrationtest : Contains all the PAX-Exam based integrationTests that covers IT for all of the above modules.

- resources : Contains some useful resources such as scripts, testing utilities and tools used for deployment
              or testing the binaries generated from the OVSDB project.

HOW TO BUILD & RUN
==================

Pre-requisites : JDK 1.7+, Maven 3+

Building a Karaf Feature and deploying it in an Opendaylight Karaf distribution :
   1. This is a new method for Opendaylight distribution wherein there is no defined editions such
      as Base, Virtualization or SP editions. The end-customer can choose to deploy the required feature 
      based on his/her deployment needs.

   2. From the root ovsdb/ directory, execute "mvn clean install"

   3. Next unzip the distribution-karaf-<VERSION_NUMBER>-SNAPSHOT.zip file created from step #2 in 
      the directory ovsdb/distribution/opendaylight-karaf/target like so:
      "unzip distribution-karaf-<VERSION_NUMBER>-SNAPSHOT.zip"

   4. Once karaf has started and you see the Opendaylight ascii art in the console, the last step
      is to start the OVSDB plugin framework with the following command in the karaf console:
      "feature:install odl-ovsdb-openstack" (without quatation marks).
 
   Sample output from Karaf console :

   opendaylight-user@root>feature:list | grep -i ovsdb
   odl-ovsdb-all                    | 1.0.0-SNAPSHOT      |           | ovsdb-1.0.0-SNAPSHOT                  | OpenDaylight :: OVSDB :: all
   odl-ovsdb-library                | 1.0.0-SNAPSHOT      | x         | ovsdb-1.0.0-SNAPSHOT                  | OVSDB :: Library
   odl-ovsdb-schema-openvswitch     | 1.0.0-SNAPSHOT      | x         | ovsdb-1.0.0-SNAPSHOT                  | OVSDB :: Schema :: Open_vSwitch
   odl-ovsdb-schema-hardwarevtep    | 1.0.0-SNAPSHOT      | x         | ovsdb-1.0.0-SNAPSHOT                  | OVSDB :: Schema :: hardware_vtep
   odl-ovsdb-plugin                 | 1.0.0-SNAPSHOT      | x         | ovsdb-1.0.0-SNAPSHOT                  | OpenDaylight :: OVSDB :: Plugin
   odl-ovsdb-northbound             | 0.6.0-SNAPSHOT      |           | ovsdb-1.0.0-SNAPSHOT                  | OpenDaylight :: OVSDB :: Northbound
   odl-ovsdb-openstack              | 1.0.0-SNAPSHOT      | x         | ovsdb-1.0.0-SNAPSHOT                  | OpenDaylight :: OVSDB :: OpenStack Network Virtual
   odl-ovsdb-ovssfc                 | 0.0.1-SNAPSHOT      |           | ovsdb-0.0.1-SNAPSHOT                  | OpenDaylight :: OVSDB :: OVS Service Function Chai
   odl-openflow-nxm-extensions      | 0.0.3-SNAPSHOT      | x         | ovsdb-0.0.3-SNAPSHOT                  | OpenDaylight :: Openflow :: Nicira Extensions

Running The Integration Tests
=============================

To run the integration tests locally the following components are required:

 - Docker
 - Fig

To install docker, follow the installation guide for your platform:
   http://docs.docker.com/installation/

To install fig:
   http://www.fig.sh/install.html

To run the integration tests:

    mvn clean install
    fig start
    # OSX
    mvn verify -Pintegrationtest -Dovsdbserver.ipaddress=$(boot2docker ip 2>/dev/null) -Dovsdbserver.port=6640
    # Linux
    mvn verify -Pintegrationtest -Dovsdbserver.ipaddress=127.0.0.1 -Dovsdbserver.port=6640
    fig stop

