<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
  xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0">

    <cm:property-placeholder persistent-id="org.opendaylight.ovsdb.southbound" update-strategy="none">
    <cm:default-properties>
      <cm:property name="skip-monitoring-manager-status" value="false"/>
      <cm:property name="bridge-reconciliation-inclusion-list" value=""/>
      <cm:property name="bridge-reconciliation-exclusion-list" value=""/>
    </cm:default-properties>
  </cm:property-placeholder>

  <bean id="southboundProviderConfigurator"
    class="org.opendaylight.ovsdb.southbound.SouthboundProviderConfigurator">
   <cm:managed-properties persistent-id="org.opendaylight.ovsdb.southbound"
                           update-strategy="component-managed"
                           update-method="updateConfigParameter"/>
    <argument ref="southboundProvider" />
    <property name="skipMonitoringManagerStatus" value="${skip-monitoring-manager-status}"/>
    <property name="bridgesReconciliationInclusionList" value="${bridge-reconciliation-inclusion-list}"/>
    <property name="bridgesReconciliationExclusionList" value="${bridge-reconciliation-exclusion-list}"/>
  </bean>

  <reference id="diagStatusService" interface="org.opendaylight.infrautils.diagstatus.DiagStatusService"/>
  <reference id="systemReadyMonitor" interface="org.opendaylight.infrautils.ready.SystemReadyMonitor"/>
  <reference id="dataBroker" interface="org.opendaylight.mdsal.binding.api.DataBroker"/>
  <reference id="bindingNormalizedNodeSerializer" interface="org.opendaylight.mdsal.binding.dom.codec.api.BindingNormalizedNodeSerializer"/>
  <reference id="domSchemaService" interface="org.opendaylight.mdsal.dom.api.DOMSchemaService"/>
  <reference id="entityOwnershipService" interface="org.opendaylight.mdsal.eos.binding.api.EntityOwnershipService"/>
  <reference id="ovsdbConnection" interface="org.opendaylight.ovsdb.lib.OvsdbConnection"/>
  <reference id="upgradeState" interface="org.opendaylight.serviceutils.upgrade.UpgradeState"/>

  <bean id="southboundProvider" class="org.opendaylight.ovsdb.southbound.SouthboundProvider" init-method="init" destroy-method="close">
    <argument ref="dataBroker"/>
    <argument ref="entityOwnershipService"/>
    <argument ref="ovsdbConnection"/>
    <argument ref="domSchemaService"/>
    <argument ref="bindingNormalizedNodeSerializer"/>
    <argument ref="systemReadyMonitor"/>
    <argument ref="diagStatusService"/>
    <argument ref="upgradeState"/>
  </bean>

</blueprint>
